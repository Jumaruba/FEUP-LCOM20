#include "i8042.h"
#include "i8254.h"
#include "mouse.h"
#include <stdlib.h>

int mouse_hook_id = 12; 

int mouse_subscribe(uint8_t *bit_no){
	*bit_no = BIT(KBC_MOUSE); 
	if (sys_irqsetpolicy(KBC_MOUSE, IRQ_REENABLE | IRQ_EXCLUSIVE, &mouse_hook_id ) != OK)
		return 1; 
	return 0; 
}

int mouse_unsubscribe(){
	if (sys_irqdisable(&mouse_hook_id) != OK)
		return 1; 
	if (sys_irqrmpolicy(&mouse_hook_id) != OK)
		return 1; 
	return 0; 
}
